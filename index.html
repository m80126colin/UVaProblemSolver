<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<!-- CSS -->
	<link href="https://m80126colin.github.io/normalize/3.0.1/normalize.css" rel="stylesheet" media="screen">
	<link href="https://m80126colin.github.io/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="css/style.css" rel="stylesheet" media="screen">
	<title></title>
</head>
<body>
	<!-- javascript import -->
	<!-- DO NOT CHANGE THIS BLOCK -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="https://m80126colin.github.io/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	<script src="js/query.js"></script>
	<script src="js/solver.js"></script>
	<script src="js/config.js"></script>
	<script type="text/javascript">
		// 公告
		$.getJSON('data/board.json', '', function(data) {
			var decodeObj	= function(obj, args) {
				var res		= {};
				res.ver		= obj['version'];
				res.date	= obj['date'];
				res.cont	= obj['content'];
				res.sum		= obj['summary'];
				res.code	= obj['code'];
				res.img 	= obj['img'] || 'img/blank.png';
				res.args	= args;
				return res;
			}
			var res =
			'<div id="board">\
				<h2>公告</h2><ul class="list-group">';
			for (var i = 0; i < data.length; i++) {
				var obj = decodeObj(data[i], {'w': '350px'});
				res +=
					'<li class="list-group-item">\
					<div class="media">\
						<a class="pull-right" href="">';
				// Start img
				res +=
					'<img class="media-object" src="' + obj.img + '"';
				if (obj.args.h)
					res +=
						' height="' + obj.args.h + '"';
				if (obj.args.w)
					res +=
						' width="' + obj.args.w + '"';
				res += '>';
				// End img
				res +=
						'</a>\
						<div class="media-body">';
				if (obj.code) {
					res +=
						'<h3 class="page-header">版本 ' + obj.code + ' (' + obj.ver + ') <small>' + obj.date + '</small></h3>';
				}
				else {
					res +=
						'<h3 class="page-header">版本 ' + obj.ver + ' <small>' + obj.date + '</small></h3>';
				}
				if (obj.cont && obj.cont.length) {
					res +=	'<ol><li>' + obj.cont.join('</li><li>') + '</li></ol>';
				}
				if (obj.sum && obj.sum.length) {
					res +=	'<h4>子版本</h4>\
							<table class="table table-hover">';
					for (var j = 0; j < obj.sum.length; j++) {
						var sObj = decodeObj(obj.sum[j], {'h': '50px'});
						res += '<tr>\
									<th>' + sObj.ver + '</th>\
									<td>' + sObj.date + '</td>';
						if (sObj && sObj.cont.length) {
							res +=	'<td><ul><li>' + sObj.cont.join('</li><li>') + '</li></ul></td>';
						}
						res +=		'<td><img src="' + sObj.img + '" height="' + sObj.args.h + '"></td>\
								</tr>';
					}
					res +=	'</table>';
				}
				res +=		'</div>\
						</div>\
					</li>';
			}
			res += '</ul></div>';
			$('#result').append(res);
		});
	</script>
	<!-- DO NOT CHANGE THIS BLOCK -->
</body>
</html>